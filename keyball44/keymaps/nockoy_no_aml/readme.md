# Keyball44 カスタムファームウェア (nockoy_no_aml)

シンプルなマウスレイヤー実装を採用した Keyball44 用カスタムファームウェアです。

## 機能概要

トラックボールを動かすと自動的にマウスレイヤー（レイヤー 6）に切り替わり、マウス操作やブラウザ操作が可能になります。

### 主な特徴

- **4 つのメインレイヤー**: レイヤー 0〜3（0=メイン、1=数字、2=記号、3=空）
- **マウスレイヤー**: レイヤー 6（トラックボール操作で自動移行）
- **時間経過での自動復帰なし**: 手動でキーを押すまでマウスレイヤーを維持
- **ブラウザ操作対応**: タブを閉じる、ページリロードなど

## レイヤー構成

| レイヤー | 用途             | 説明                                                 |
| :------- | :--------------- | :--------------------------------------------------- |
| 0        | メインレイヤー   | 通常の文字入力。D キーと K キー長押しでレイヤー 6 へ |
| 1        | 数字レイヤー     | 数字とシンボル入力                                   |
| 2        | 記号レイヤー     | 記号とシンボル入力                                   |
| 3        | 空レイヤー       | カスタマイズ用の空レイヤー                           |
| 4        | F キーレイヤー   | ファンクションキー                                   |
| 5        | RGB 設定レイヤー | RGB LED 設定とキーボード設定                         |
| 6        | マウスレイヤー   | マウス操作とブラウザ操作                             |

## マウスレイヤー（レイヤー 6）の機能

### 自動移行条件

- トラックボールを動かす
- D キーまたは K キーを長押し

### レイヤー 6 からの復帰

- マウス関連キー以外のキーを押す

### キー配置（レイヤー 6）

**ホームロー部分：**

```
A      S        D         F        ...  J        K         L          ;
前のタブ 右クリック スクロール 左クリック     左クリック スクロール 中クリック  次のタブ
```

## Remap でのキーコード一覧

| キー             | Remap での表示 | 機能                     | 説明                                              |
| :--------------- | :------------- | :----------------------- | :------------------------------------------------ |
| 左クリック       | User 0         | マウス左ボタン           | 一般的なクリック操作                              |
| 右クリック       | User 1         | マウス右ボタン           | コンテキストメニュー表示                          |
| 中クリック       | User 2         | マウス中ボタン           | 新しいタブで開く、タブを閉じる                    |
| スクロールトグル | User 3         | スクロールモード切り替え | トラックボールでスクロール/カーソル移動を切り替え |
| （未使用）       | User 4         | -                        | 将来の拡張用                                      |
| （未使用）       | User 5         | -                        | 将来の拡張用                                      |
| タブを閉じる     | User 6         | Ctrl+W                   | ブラウザのタブを閉じる                            |
| ページリロード   | User 7         | Ctrl+R                   | ブラウザページの更新                              |
| 前のタブ         | User 8         | Cmd+Option+左矢印        | Chrome/Safari で前のタブに移動                    |
| 次のタブ         | User 9         | Cmd+Option+右矢印        | Chrome/Safari で次のタブに移動                    |
| ウィンドウ最小化 | User 10        | Cmd+M                    | アクティブなウィンドウを最小化                    |

## 使い方

### 基本的なマウス操作

1. **トラックボールを動かす** → 自動的にレイヤー 6 に移行
2. **左クリック**: F キーまたは J キーを押す
3. **右クリック**: S キーを押す
4. **中クリック**: L キーを押す

### スクロール操作

1. **スクロールモード ON**: D キーまたは K キーを押す
2. **トラックボールを動かす** → ページがスクロール
3. **スクロールモード OFF**: 再度 D キーまたは K キーを押す

### ブラウザ操作

- **タブを閉じる**: レイヤー 6 で Q キーを押す（Ctrl+W）
- **ページリロード**: レイヤー 6 で P キーを押す（Ctrl+R）

## ファームウェアの書き込み

以下のコマンドでファームウェアをビルド・書き込みできます：

```bash
qmk flash -kb keyball/keyball44 -km nockoy_no_aml
```

または、QMK Toolbox を使用して hex ファイルを書き込んでください。

## 注意事項

- このファームウェアの使用による不利益や故障について、作者は責任を負いません
- カスタマイズは自己責任で行ってください

## カスタマイズ

レイヤー 0〜6 は自由にカスタマイズ可能です。必要に応じてキーマップを編集してください。
